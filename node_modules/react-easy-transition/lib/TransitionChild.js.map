{"version":3,"sources":["../src/TransitionChild.js"],"names":["TransitionChild","callback","componentFadeIn","page","finalStyle","props","style","initialStyle","forEach","window","getComputedStyle","property","transition","setTimeout","transitionsRemaining","split","length","addEventListener","event","leaveStyle","childDidLeave","ref","children"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA;;;;;;IAEqBA,e;;;;;;;;;;wCACCC,Q,EAAU;AAC5B,WAAKC,eAAL,CAAqBD,QAArB;AACD;;;uCACkBA,Q,EAAU;AAC3B,WAAKC,eAAL,CAAqBD,QAArB;AACD;;;oCACeA,Q,EAAU;AAAA;;AACxB,UAAIE,OAAO,KAAKA,IAAhB;AAAA,UAAsBC,aAAa,KAAKC,KAAL,CAAWD,UAA9C;AACA,gCAAc,KAAKD,IAAL,CAAUG,KAAxB,EAA+B,KAAKD,KAAL,CAAWE,YAA1C;AACA,6BAAY,KAAKF,KAAL,CAAWE,YAAvB,EAAqCC,OAArC,CAA6C;AAAA,eAAYC,OAAOC,gBAAP,CAAwB,OAAKP,IAA7B,EAAmCQ,QAAnC,CAAZ;AAAA,OAA7C;AACA,WAAKR,IAAL,CAAUG,KAAV,CAAgBM,UAAhB,GAA6B,KAAKP,KAAL,CAAWO,UAAxC;AACAC,iBAAY;AAAA,eAAM,0BAAcV,KAAKG,KAAnB,EAA0BF,UAA1B,CAAN;AAAA,OAAZ;AACA,UAAIU,uBAAuB,KAAKT,KAAL,CAAWO,UAAX,CAAsBG,KAAtB,CAA4B,GAA5B,EAAiCC,MAA5D;AACA,WAAKb,IAAL,CAAUc,gBAAV,CAA2B,eAA3B,EAA4C,UAACC,KAAD,EAAW;AACrDJ;AACA,YAAIA,oBAAJ,EAA0B;AAC1Bb;AACD,OAJD,EAIG,KAJH;AAKD;;;uCACkBA,Q,EAAU;AAAA;;AAC3B,UAAIkB,aAAa,KAAKd,KAAL,CAAWc,UAAX,GAAwB,KAAKd,KAAL,CAAWc,UAAnC,GAAgD,KAAKd,KAAL,CAAWE,YAA5E;AACA,gCAAc,KAAKJ,IAAL,CAAUG,KAAxB,EAA+Ba,UAA/B;AACA,UAAIL,uBAAuB,KAAKT,KAAL,CAAWO,UAAX,CAAsBG,KAAtB,CAA4B,GAA5B,EAAiCC,MAA5D;AACA,WAAKb,IAAL,CAAUc,gBAAV,CAA2B,eAA3B,EAA4C,UAACC,KAAD,EAAW;AACrDJ;AACA,YAAIA,oBAAJ,EAA0B;AAC1Bb;AACA,eAAKI,KAAL,CAAWe,aAAX;AACD,OALD,EAKG,KALH;AAMD;;;6BACQ;AAAA;;AACP,aAAO;AAAA;AAAA,UAAK,KAAK,aAACC,IAAD;AAAA,mBAAS,OAAKlB,IAAL,GAAYkB,IAArB;AAAA,WAAV,EAAoC,OAAO,KAAKhB,KAAL,CAAWE,YAAtD;AACJ,aAAKF,KAAL,CAAWiB;AADP,OAAP;AAGD;;;;;qBAnCkBtB,e","file":"TransitionChild.js","sourcesContent":["'use strict'\r\n\r\nimport React, { Component, PropTypes } from 'react'\r\n\r\nexport default class TransitionChild extends Component {\r\n  componentWillAppear(callback) {\r\n    this.componentFadeIn(callback)\r\n  }\r\n  componentWillEnter(callback) {\r\n    this.componentFadeIn(callback)\r\n  }\r\n  componentFadeIn(callback) {\r\n    let page = this.page, finalStyle = this.props.finalStyle\r\n    Object.assign(this.page.style, this.props.initialStyle)\r\n    Object.keys(this.props.initialStyle).forEach(property => window.getComputedStyle(this.page)[property])\r\n    this.page.style.transition = this.props.transition\r\n    setTimeout( () => Object.assign(page.style, finalStyle) )\r\n    let transitionsRemaining = this.props.transition.split(',').length\r\n    this.page.addEventListener(\"transitionend\", (event) => {\r\n      transitionsRemaining--\r\n      if (transitionsRemaining) return\r\n      callback()\r\n    }, false)\r\n  }\r\n  componentWillLeave(callback) {\r\n    let leaveStyle = this.props.leaveStyle ? this.props.leaveStyle : this.props.initialStyle\r\n    Object.assign(this.page.style, leaveStyle)\r\n    let transitionsRemaining = this.props.transition.split(',').length\r\n    this.page.addEventListener(\"transitionend\", (event) => {\r\n      transitionsRemaining--\r\n      if (transitionsRemaining) return\r\n      callback()\r\n      this.props.childDidLeave()\r\n    }, false)\r\n  }\r\n  render() {\r\n    return <div ref={(ref) => this.page = ref} style={this.props.initialStyle}>\r\n      {this.props.children}\r\n    </div>\r\n  }\r\n}"]}